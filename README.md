# 寿险客户续保预测模型

## 项目概述

本项目旨在通过机器学习技术预测寿险客户是否会续保保单。通过对客户特征的分析，构建预测模型，帮助保险公司更好地了解客户续保行为，提前识别可能流失的客户，从而采取针对性的客户保留策略，提高客户忠诚度和公司收益。

## 数据集

项目使用两个数据集：

- `policy_data.xlsx`：训练数据集，包含1000条客户记录。
- `policy_test.xlsx`：测试数据集，包含200条客户记录。

### 特征说明

数据集包含以下主要特征：

- **人口统计特征**：年龄、性别、出生地区、收入水平、教育程度、职业、婚姻状况、家庭成员数量
- **保险相关特征**：保单类型、保单期限、保费金额、保单开始日期、保单结束日期、理赔历史
- **目标变量**：renewal（是否续保，"Yes"或"No"）

## 项目流程

1. **数据探索与分析(EDA)**
   - 基本统计分析
   - 特征分布可视化
   - 特征相关性分析
   - 目标变量与特征关系分析

2. **模型开发**
   - 逻辑回归模型
   - 决策树模型(深度=3)

3. **模型评估与比较**
   - 在测试集上验证两个模型
   - 比较模型性能指标
   - 分析预测差异

## 主要文件说明

- `eda_policy_data.py`: 数据探索性分析脚本
- `logistic_regression_model.py`: 逻辑回归模型训练和评估
- `decision_tree_model.py`: 决策树模型训练和评估
- `model_validation.py`: 在测试集上验证两个模型
- `show_predictions.py`: 显示和分析预测结果
- `逻辑回归解释.md`: 逻辑回归模型的特征重要性解释
- `决策树模型解释.md`: 决策树模型的规则和特征重要性解释

## 模型对比

### 逻辑回归模型

- **优势**：
  - 较高的准确率和AUC值
  - 可以通过系数了解特征对目标的影响程度和方向
  - 提供概率输出，便于设置不同阈值
  
- **最重要特征**：
  - 中等收入水平（负相关）
  - 离异状态（负相关）
  - 单身状态（正相关）
  - 经理职业（负相关）
  - 有理赔历史（正相关）

### 决策树模型

- **优势**：
  - 直观的决策规则
  - 自动识别特征间的交互关系
  - 无需对特征进行归一化处理
  - 对异常值不敏感
  
- **主要决策规则**：
  - 年龄是最重要的分割特征
  - 中年客户（29.5岁-60.5岁）续保率最高
  - 老年客户中家庭规模大的续保率高
  - 年轻客户中浙江省出生的续保率高

### 测试集预测结果

两个模型在测试集上的预测结果显示：

- 逻辑回归模型预测约83%的客户会续保
- 决策树模型预测约87%的客户会续保
- 两个模型在约88%的样本上预测结果一致

## 业务价值

1. **针对性营销策略**：
   - 为中等收入客户设计更有吸引力的续保方案
   - 针对不同年龄段客户提供差异化服务

2. **客户细分**：
   - 识别高价值客户群体（如中年客户）
   - 识别高流失风险客户群体（如年轻小家庭客户）

3. **产品开发**：
   - 根据家庭规模设计不同的保险产品
   - 针对地域差异调整产品策略

## 安装与使用

### 环境要求

```
Python 3.7+
pandas
numpy
matplotlib
seaborn
scikit-learn
openpyxl
```

### 安装依赖

```bash
pip install pandas numpy matplotlib seaborn scikit-learn openpyxl
```

### 运行步骤

1. 数据探索分析：
```bash
python eda_policy_data.py
```

2. 训练逻辑回归模型：
```bash
python logistic_regression_model.py
```

3. 训练决策树模型：
```bash
python decision_tree_model.py
```

4. 在测试集上验证模型：
```bash
python model_validation.py
```

5. 查看预测结果：
```bash
python show_predictions.py
```

## 结论与未来工作

本项目成功构建了两个模型来预测客户续保行为，两种模型各有优势。逻辑回归模型提供了更高的准确率，而决策树模型提供了更直观的决策规则。

未来工作可以考虑：
1. 尝试更多的机器学习模型（如随机森林、梯度提升树）
2. 进行特征工程优化
3. 考虑使用交叉验证提高模型稳定性
4. 对重要客户群体进行更深入的分析 